# Финальный проект Спринт 10 группы 39 студентов Яндекс.Практикум. 
# Проект YaMDb
## Описание
Проект YaMDb собирает отзывы пользователей на произведения. Произведения представляются в категориях: «Книги», «Фильмы», «Музыка». Список категорий может быть дополнен администратором.
Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.
В каждой категории есть произведения: книги, фильмы или музыка. Например, в категории «Книги» могут быть произведения «Всё о Муми-троллях» и «Марсианские хроники», а в категории «Музыка» — песня «Poznan» группы «Low Roar» и сюита баха до минор.
Произведению может быть присвоен жанр (Genre) из списка предустановленных (например, «Сказка», «Рок» или «Артхаус»). Новые жанры может создавать только администратор.
Благодарные или возмущённые пользователи оставляют к произведениям текстовые отзывы (Review) и ставят произведению оценку в диапазоне от одного до десяти (целое число); из пользовательских оценок формируется усреднённая оценка произведения — рейтинг (целое число). На одно произведение пользователь может оставить только один отзыв.

## Установка

- Cклонируйте репозитарий 

`git clone...`

- Cоздайте и активируйте виртуальное окружение:

`python -m venv venv`

`python venv/bin/activate`

` ./venv/scripts/activate`

- Установите все зависимости из файла requirements.txt командой: 

`pip install -r requirements.txt`
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
requests==2.26.0
django==2.2.16
django-filter==21.1
djangorestframework==3.12.4
djangorestframework-simplejwt==5.2.0
PyJWT==2.1.0
pytest==6.2.4
pytest-django==4.4.0
pytest-pythonpath==0.7.3
python-dotenv==0.20.0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
- Выполните миграции

`python manage.py migrate`

- Запустите веб сервер

`python manage.py runserver`

## Регистрация 

Алгоритм регистрации пользователей:
1. Пользователь отправляет POST-запрос на добавление нового пользователя с параметрами email и username на эндпоинт 
`/api/v1/auth/signup/`.
2. **YaMDB** отправляет письмо с кодом подтверждения (confirmation_code) на адрес email.
3. Пользователь отправляет POST-запрос с параметрами username и confirmation_code на эндпоинт /api/v1/auth/token/, в ответе на запрос ему приходит token (JWT-токен).
4. При желании пользователь отправляет PATCH-запрос на эндпоинт /api/v1/users/me/ и заполняет поля в своём профайле (описание полей — в документации).

## Пользовательские роли
* **Аноним** — может просматривать описания произведений, читать отзывы и комментарии.
* **Аутентифицированный пользователь (user)** — может, как и Аноним, читать всё, дополнительно он может публиковать отзывы и ставить оценку произведениям (фильмам/книгам/песенкам), может комментировать чужие отзывы; может редактировать и удалять свои отзывы и комментарии. Эта роль присваивается по умолчанию каждому новому пользователю.
* **Модератор (moderator)** — те же права, что и у Аутентифицированного пользователя плюс право удалять любые отзывы и комментарии.
* **Администратор (admin)** — полные права на управление всем контентом проекта. Может создавать и удалять произведения, категории и жанры. Может назначать роли пользователям.
* **Суперюзер Django** — обладет правами администратора (admin)

## Примеры API запросов
Регистрация пользователя:  
 POST /api/v1/auth/signup/ 
  
Получение данных своей учетной записи:  
 GET /api/v1/users/me/ 
  
Добавление новой категории:  
 POST /api/v1/categories/ 
  
Удаление жанра:  
 DELETE /api/v1/genres/{slug} 
  
Частичное обновление информации о произведении:  
 PATCH /api/v1/titles/{titles_id} 
  
Получение списка всех отзывов:  
 GET /api/v1/titles/{title_id}/reviews/ 
   
Добавление комментария к отзыву:  
 POST /api/v1/titles/{title_id}/reviews/{review_id}/comments/




#### Доступный функционал

- Для аутентификации используются JWT-токены.
- У неаутентифицированных пользователей доступ к API только на уровне чтения.
- Создание объектов разрешено только аутентифицированным пользователям.На прочий фунционал наложено ограничение в виде административных ролей и авторства.
- Управление пользователями.
- Получение списка всех категорий и жанров, добавление и удаление.
- Получение списка всех произведений, их добавление.Получение, обновление и удаление конкретного произведения.
- Получение списка всех отзывов, их добавление.Получение, обновление и удаление конкретного отзыва.  
- Получение списка всех комментариев, их добавление.Получение, обновление и удаление конкретного комментария.
- Возможность получения подробной информации о себе и удаления своего аккаунта.
- Фильтрация по полям.

Полное описание доступно по эндпоинту **/redoc/** 

## над проектом работают

- Маргарита Штанова (Тимлид, Разработчик 3) https://github.com/I9800995516
- Сергей Мельников (Разработчик 2) https://github.com/leentz
- Александр Евдокимов (Разработчик 1) https://github.com/thk4x4
